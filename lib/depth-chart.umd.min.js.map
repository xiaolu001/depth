{"version":3,"sources":["webpack://depth-chart/webpack/universalModuleDefinition","webpack://depth-chart/webpack/bootstrap","webpack://depth-chart/./node_modules/current-script-polyfill/currentScript.js","webpack://depth-chart/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://depth-chart/./packages/internal/ViewPortHandler.js","webpack://depth-chart/./packages/chart/Chart.js","webpack://depth-chart/./packages/render/Render.js","webpack://depth-chart/./packages/render/AxisRender.js","webpack://depth-chart/./packages/render/XAxisRender.js","webpack://depth-chart/./packages/render/YAxisRender.js","webpack://depth-chart/./packages/render/MainRender.js","webpack://depth-chart/./packages/chart/MainChart.js","webpack://depth-chart/./packages/render/MaskRender.js","webpack://depth-chart/./packages/chart/MaskChart.js","webpack://depth-chart/./packages/internal/DataProvider.js","webpack://depth-chart/./packages/internal/eventHelper.js","webpack://depth-chart/./packages/internal/MouseEvent.js","webpack://depth-chart/./packages/chart/RootChart.js","webpack://depth-chart/./packages/index.js","webpack://depth-chart/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","document","currentScript","scripts","getElementsByTagName","Error","err","res","exec","stack","src","readyState","window","match","ViewPortHandler","contentRect","left","right","top","bottom","height","width","offsetLeft","offsetRight","offsetTop","offsetBottom","point","x","contentLeft","contentRight","y","contentTop","contentBottom","viewPortHandler","dom","canvasDom","createElement","style","position","ctx","getContext","appendChild","chartTop","clearCanvas","setDimensions","draw","clearRect","Render","dataProvider","interval","super","xAxis","strokeStyle","line","color","lineWidth","size","beginPath","moveTo","lineTo","stroke","closePath","tickLine","textAlign","font","fillStyle","startY","endY","startX","yAxisWidth","divide","difference","adjacent","startVol","divideVol","decimal","getPriceDecimal","vol","minPrice","fillText","toFixed","yAxis","textBaseline","tickLineLength","endX","tickTextPosition","maxVol","xVol","renderTickLinesValue","val","toString","indexOf","str","substr","charAt","length","depth","max","leftData","rightData","leftDataLenght","rightDataLenght","letfDataWidth","rightDataWidth","background","drawBg","drawLeft","drawRight","dataWidth","forEach","item","index","parseInt","buyColor","globalAlpha","fill","sellColor","shadowColor","fillRect","xAxisRender","yAxisRender","YAxisRender","mainRender","renderDraw","renderAxisLine","renderTickLines","locale","getLocale","priceDecimal","valueDecimal","getValueDecimal","offsetX","offsetY","selectColor","arc","Math","PI","direction","newOffsetX","parseFloat","maskRender","halfWidth","middleStart","middleEnd","itemWidth","offsetXIndex","floor","intervalIndex","data","popup","labelText","DataProvider","dataFill","leftArray","leftArrayLength","rightArray","rightArrayLength","console","log","vol1","vol2","abs","price","min","arr","semiaxis","len","total","obj","v","push","reverse","array","initDataLeft","element","volume","maxPrice","keys","leftLen","rightLent","stopEvent","e","stopPropagation","event","cancelBubble","preventDefault","returnValue","maskChart","waitingForMouseMoveAnimationFrame","flush","params","offsetWidth","offsetHeight","deepObjectMerge","init","mainChart","calcChartDimensions","initEvent","mouseEvent","domNode","addEventListener","mouseMove","mouseLeave","xAxisHeight","calcXAxisHeight","calcYAxisWidth","domWidth","domHeight","setChartDimensions","FirstOBJ","SecondOBJ"],"mappings":"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","file":"depth-chart.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"depth-chart\"] = factory();\n\telse\n\t\troot[\"depth-chart\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"fb15\");\n","// document.currentScript polyfill by Adam Miller\n\n// MIT license\n\n(function(document){\n  var currentScript = \"currentScript\",\n      scripts = document.getElementsByTagName('script'); // Live NodeList collection\n\n  // If browser needs currentScript polyfill, add get currentScript() to the document object\n  if (!(currentScript in document)) {\n    Object.defineProperty(document, currentScript, {\n      get: function(){\n\n        // IE 6-10 supports script readyState\n        // IE 10+ support stack trace\n        try { throw new Error(); }\n        catch (err) {\n\n          // Find the second match for the \"at\" string to get file src url from stack.\n          // Specifically works with the format of stack traces in IE.\n          var i, res = ((/.*at [^\\(]*\\((.*):.+:.+\\)$/ig).exec(err.stack) || [false])[1];\n\n          // For all scripts on the page, if src matches or if ready state is interactive, return the script tag\n          for(i in scripts){\n            if(scripts[i].src == res || scripts[i].readyState == \"interactive\"){\n              return scripts[i];\n            }\n          }\n\n          // If no match, return null\n          return null;\n        }\n      }\n    });\n  }\n})(document);\n","// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    require('current-script-polyfill')\n  }\n\n  var i\n  if ((i = window.document.currentScript) && (i = i.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/))) {\n    __webpack_public_path__ = i[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","class ViewPortHandler {\r\n  constructor() {\r\n    // 绘制区域参数\r\n    this.contentRect = {\r\n      left: 0,\r\n      right: 0,\r\n      top: 0,\r\n      bottom: 0\r\n    }\r\n    // 整个view的高度\r\n    this.height = 0\r\n    // 整个view的宽度\r\n    this.width = 0\r\n  }\r\n\r\n  /**\r\n   * 设置尺寸\r\n   * @param width\r\n   * @param height\r\n   * @param offsetLeft\r\n   * @param offsetRight\r\n   * @param offsetTop\r\n   * @param offsetBottom\r\n   */\r\n  setDimensions(width, height, offsetLeft, offsetRight, offsetTop, offsetBottom) {\r\n\r\n    this.width = width\r\n    this.height = height\r\n    this.contentRect.left = offsetLeft\r\n    this.contentRect.right = offsetRight\r\n    this.contentRect.top = offsetTop\r\n    this.contentRect.bottom = offsetBottom\r\n  }\r\n\r\n  contentTop() {\r\n    return this.contentRect.top\r\n  }\r\n\r\n  contentLeft() {\r\n    return this.contentRect.left\r\n  }\r\n\r\n  contentRight() {\r\n    return this.width - this.contentRect.right\r\n  }\r\n\r\n  contentBottom() {\r\n    return this.height - this.contentRect.bottom\r\n  }\r\n  // mainChartWidth(){\r\n\r\n  // }\r\n  // mainChartWidth(){\r\n\r\n  // }\r\n  /**\r\n   * 获取中间点坐标\r\n   */\r\n  getContentCenter() {\r\n    const point = {}\r\n    point.x = (this.contentLeft() + this.contentRight()) / 2\r\n    point.y = (this.contentTop() + this.contentBottom()) / 2\r\n    return point\r\n  }\r\n}\r\n\r\nexport default ViewPortHandler\r\n","import ViewPortHandler from '../internal/ViewPortHandler'\r\n\r\nclass Chart {\r\n  constructor() {\r\n    this.viewPortHandler = new ViewPortHandler();\r\n\r\n  }\r\n  init(dom) {\r\n    if (dom) {\r\n      const canvasDom = document.createElement('canvas');\r\n      canvasDom.style.position = 'absolute'\r\n      canvasDom.style.right = '0'\r\n      canvasDom.style.left = '0'\r\n      this.canvasDom = canvasDom;\r\n      this.ctx = this.canvasDom.getContext('2d');\r\n      dom.appendChild(this.canvasDom);\r\n    }\r\n\r\n  }\r\n  /**\r\n* 设置图尺寸\r\n* @param chartTop\r\n* @param width\r\n* @param height\r\n* @param offsetLeft\r\n* @param offsetRight\r\n* @param offsetTop\r\n* @param offsetBottom\r\n*/\r\n  setChartDimensions(chartTop, width, height, offsetLeft, offsetRight, offsetTop = 0, offsetBottom = 25) {\r\n    this.clearCanvas()\r\n    this.canvasDom.style.top = `${chartTop}px`\r\n    this.canvasDom.style.width = `${width}px`\r\n    this.canvasDom.style.height = `${height}px`\r\n    this.canvasDom.width = width\r\n    this.canvasDom.height = height\r\n    this.viewPortHandler.setDimensions(width, height, offsetLeft, offsetRight, offsetTop, offsetBottom)\r\n    this.draw()\r\n  }\r\n  /**\r\n* 清空画布\r\n*/\r\n  clearCanvas() {\r\n    this.ctx.clearRect(0, 0, this.viewPortHandler.width, this.viewPortHandler.height)\r\n  }\r\n  /**\r\n   * 刷新\r\n   */\r\n  flush() {\r\n    this.clearCanvas()\r\n    this.draw()\r\n  }\r\n  /**\r\n* 绘制\r\n*/\r\n  draw() {\r\n  }\r\n}\r\nexport default Chart;","class Render {\r\n  constructor(viewPortHandler, dataProvider, interval) {\r\n    this.viewPortHandler = viewPortHandler\r\n    this.dataProvider = dataProvider\r\n    this.interval = interval\r\n  }\r\n}\r\n\r\nexport default Render\r\n","import Render from './Render'\r\nclass AxisRender extends Render {\r\n    constructor(viewPortHandler, dataProvider,interval) {\r\n        super(viewPortHandler, dataProvider,interval)\r\n    }\r\n}\r\nexport default AxisRender","import AxisRender from \"./AxisRender\"\r\n\r\nclass XAxisRender extends AxisRender {\r\n\r\n    /**\r\n    * 绘制轴线\r\n    * @param ctx\r\n    * @param xAxis\r\n    */\r\n    renderAxisLine(ctx, xAxis) {\r\n        ctx.strokeStyle = xAxis.line.color //轴线颜色\r\n        ctx.lineWidth = xAxis.line.size //轴线粗细\r\n        ctx.beginPath()\r\n        ctx.moveTo(this.viewPortHandler.contentLeft(), this.viewPortHandler.contentBottom())\r\n        ctx.lineTo(this.viewPortHandler.contentRight(), this.viewPortHandler.contentBottom())\r\n        ctx.stroke()\r\n        ctx.closePath()\r\n    }\r\n\r\n    /**\r\n    * 绘制刻度\r\n    * @param ctx\r\n    * @param xAxis\r\n    */\r\n    renderTickLines(ctx, xAxis) {\r\n        ctx.lineWidth = xAxis.tickLine.size\r\n        ctx.strokeStyle = xAxis.tickLine.color\r\n        ctx.textAlign = 'center'\r\n        ctx.font = \"12px sans-serif\"\r\n        ctx.fillStyle = xAxis.tickLine.color;\r\n        const startY = this.viewPortHandler.contentBottom()\r\n        const endY = startY + 5\r\n        const startX = (this.viewPortHandler.contentRight() / 30)\r\n        \r\n         let yAxisWidth = 0\r\n        // if (yAxis.position === \"left\") {\r\n        //     yAxisWidth += yAxis.width\r\n        // }\r\n        const divide = startX * 4\r\n        const difference = this.dataProvider.adjacent() * 2;  //this.dataProvider.maxPrice() - this.dataProvider.minPrice();\r\n\r\n        const startVol = difference / 30\r\n        const divideVol = startVol * 4\r\n        const decimal = this.dataProvider.getPriceDecimal()\r\n        for (let i = 0; i < 8; i++) {\r\n            const x = yAxisWidth + startX + i * divide;\r\n            const vol = this.dataProvider.minPrice() + startVol + i * divideVol;\r\n            ctx.beginPath()\r\n            ctx.moveTo(x, startY)\r\n            ctx.lineTo(x, endY)\r\n\r\n            ctx.fillText(vol.toFixed(decimal), x, endY + 10);\r\n            ctx.stroke()\r\n            ctx.closePath()\r\n        }\r\n    }\r\n\r\n}\r\nexport default XAxisRender","import AxisRender from \"./AxisRender\"\r\n\r\nclass XAxisRender extends AxisRender {\r\n\r\n    /**\r\n   * 绘制轴线\r\n   * @param ctx\r\n   * @param yAxis\r\n   */\r\n    renderAxisLine(ctx, yAxis) {\r\n\r\n        ctx.strokeStyle = yAxis.line.color\r\n        ctx.lineWidth = yAxis.line.size\r\n        ctx.beginPath()\r\n        if (yAxis.position === 'left') {\r\n            ctx.moveTo(this.viewPortHandler.contentLeft(), this.viewPortHandler.contentTop())\r\n            ctx.lineTo(this.viewPortHandler.contentLeft(), this.viewPortHandler.contentBottom())\r\n        } else {\r\n            ctx.moveTo(this.viewPortHandler.contentRight(), this.viewPortHandler.contentTop())\r\n            ctx.lineTo(this.viewPortHandler.contentRight(), this.viewPortHandler.contentBottom())\r\n        }\r\n\r\n        ctx.stroke()\r\n        ctx.closePath()\r\n    }\r\n    /**\r\n   * 绘制刻度\r\n   * @param ctx\r\n   * @param xAxis\r\n   */\r\n    renderTickLines(ctx, yAxis) {\r\n        ctx.lineWidth = yAxis.tickLine.size;\r\n        ctx.strokeStyle = yAxis.tickLine.color;\r\n        ctx.font = \"12px sans-serif\";\r\n        ctx.textBaseline = \"middle\";\r\n        ctx.textAlign = \"left\";\r\n        ctx.fillStyle = yAxis.tickLine.color;\r\n        const tickLineLength = 5;\r\n        let startX;\r\n        let endX;\r\n        if (yAxis.position === 'left') {\r\n            startX = this.viewPortHandler.contentLeft()\r\n            if (yAxis.tickTextPosition === 'outside') {\r\n                endX = startX - tickLineLength //刻度内置\r\n            } else {\r\n                endX = startX + tickLineLength//刻度外置\r\n            }\r\n        } else {\r\n            startX = this.viewPortHandler.contentRight()\r\n            if (yAxis.tickTextPosition === 'outside') {\r\n                endX = startX + tickLineLength//刻度内置\r\n            } else {\r\n                endX = startX - tickLineLength//刻度外置\r\n            }\r\n        }\r\n\r\n        const height = this.viewPortHandler.contentBottom();\r\n        const maxVol = this.dataProvider.maxVol()\r\n        const divide = (height / 16) * 3\r\n        const divideVol = (maxVol / 16) * 3\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n            const y = height - i * divide\r\n            const xVol = this.renderTickLinesValue(i * divideVol)\r\n            ctx.beginPath()\r\n            ctx.moveTo(startX, y)\r\n            ctx.lineTo(endX, y)\r\n            ctx.fillText(xVol, endX + 5, y)\r\n            ctx.stroke()\r\n            ctx.closePath()\r\n        }\r\n    }\r\n    /**\r\n     * 刻度值显示规则处理\r\n     * @param value\r\n     */\r\n    renderTickLinesValue(value) {\r\n        if (value > 1000) {\r\n            let val = (value / 10000).toString()\r\n            return `${this.decimal(val)}K`\r\n        } else if (value > 1000000) {\r\n            let val = (value / 1000000).toString()\r\n            return `${this.decimal(val)}M`\r\n        }\r\n        return this.decimal(value.toString())\r\n    }\r\n    decimal(val) {\r\n        if (val.indexOf('.') > -1) {\r\n            let str = val.substr(0, 5);\r\n            if (str.charAt(str.length - 1) === '.') {\r\n                return val.substr(0, 4)\r\n            }\r\n            return str\r\n        } else {\r\n            return val.substr(0, 4)\r\n        }\r\n    }\r\n}\r\nexport default XAxisRender","import Render from \"./Render\"\r\nclass MainRender extends Render {\r\n    renderDraw(ctx, depth) {\r\n\r\n        const max = this.dataProvider.maxVol()\r\n        const width = (this.viewPortHandler.contentRight() - this.interval) / 2\r\n        const height = this.viewPortHandler.contentBottom()\r\n        const leftData = this.dataProvider.leftData\r\n        const rightData = this.dataProvider.rightData\r\n        const leftDataLenght = leftData.length\r\n        const rightDataLenght = rightData.length\r\n        const letfDataWidth = width / leftDataLenght\r\n        const rightDataWidth = width / rightDataLenght\r\n        const { background } = depth\r\n        this.drawBg(ctx, this.viewPortHandler.width, this.viewPortHandler.height, background)\r\n        this.drawLeft(ctx, width, height, max, leftData, letfDataWidth, depth)\r\n        this.drawRight(ctx, width, height, max, rightData, rightDataWidth, depth)\r\n\r\n    }\r\n    drawLeft(ctx, width, height, max, leftData, dataWidth, depth) {\r\n        let x = 0, y = 0\r\n        ctx.beginPath()\r\n        ctx.lineWidth = 2\r\n        ctx.moveTo(width, height)\r\n        leftData.forEach((item, index) => {\r\n            x = width - parseInt(index) * dataWidth\r\n            y = height - item.t / max * height\r\n            ctx.lineTo(x, y)\r\n        })\r\n        ctx.fillStyle = depth.buyColor\r\n        ctx.strokeStyle = depth.buyColor\r\n        ctx.stroke()\r\n        ctx.globalAlpha = depth.globalAlpha\r\n        ctx.lineTo(0, y)\r\n        ctx.lineTo(0, height)\r\n        ctx.lineTo(width, height)\r\n        ctx.fill()\r\n        ctx.closePath()\r\n    }\r\n    drawRight(ctx, width, height, max, rightData, dataWidth, depth) {\r\n        let x = 0, y = 0\r\n        ctx.beginPath()\r\n        ctx.globalAlpha = 1\r\n        ctx.lineWidth = depth.lineWidth\r\n        ctx.moveTo(width + this.interval, height)\r\n        rightData.forEach((item, index) => {\r\n            x = width + this.interval + parseInt(index) * dataWidth + 1\r\n            y = height - item.t / max * height\r\n            ctx.lineTo(x, y)\r\n        })\r\n        ctx.fillStyle = depth.sellColor\r\n        ctx.strokeStyle = depth.sellColor\r\n        ctx.shadowColor = \"none\"\r\n        ctx.stroke()\r\n        ctx.globalAlpha = depth.globalAlpha\r\n        ctx.lineTo(width * 2 + this.interval, y)\r\n        ctx.lineTo(width * 2 + this.interval, height)\r\n        ctx.lineTo(width + this.interval, height)\r\n        ctx.fill()\r\n        ctx.closePath()\r\n\r\n    }\r\n    drawBg(ctx, width, height, background) {\r\n\r\n        ctx.beginPath()\r\n        ctx.globalAlpha = 1\r\n        ctx.fillStyle = background\r\n        ctx.fillRect(0, 0, width, height)\r\n        ctx.closePath()\r\n    }\r\n}\r\nexport default MainRender","import Chart from \"./Chart\"\r\nimport XAxisRender from \"../render/XAxisRender\"\r\nimport YAxisRender from \"../render/YAxisRender\"\r\nimport MainRender from \"../render/MainRender\"\r\nclass MainChart extends Chart {\r\n    constructor(dom, dataProvider, interval, style) {\r\n        super(dom)\r\n        this.style = style;\r\n        this.xAxisRender = new XAxisRender(this.viewPortHandler, dataProvider, interval)\r\n        this.yAxisRender = new YAxisRender(this.viewPortHandler, dataProvider, interval)\r\n        this.mainRender = new MainRender(this.viewPortHandler, dataProvider, interval)\r\n    }\r\n    draw() {\r\n        const { xAxis, yAxis, depth } = this.style\r\n        this.mainRender.renderDraw(this.ctx, depth)\r\n        this.yAxisRender.renderAxisLine(this.ctx, yAxis)\r\n        this.yAxisRender.renderTickLines(this.ctx, yAxis)\r\n        this.xAxisRender.renderAxisLine(this.ctx, xAxis)\r\n        this.xAxisRender.renderTickLines(this.ctx, xAxis,yAxis)\r\n    }\r\n}\r\nexport default MainChart","import Render from \"./Render\";\r\nimport locale from \"../config/locale.json\"\r\nclass MaskRender extends Render {\r\n    constructor(viewPortHandler, dataProvider, interval) {\r\n        super(viewPortHandler, dataProvider, interval)\r\n        this.interval = interval;\r\n        this.dataProvider = dataProvider;\r\n        this.locale = locale[this.dataProvider.getLocale()]\r\n        this.priceDecimal = this.dataProvider.getPriceDecimal()\r\n        this.valueDecimal = this.dataProvider.getValueDecimal()\r\n    }\r\n    point(ctx, offsetX, offsetY, selectColor) {\r\n        ctx.beginPath()\r\n        ctx.globalAlpha = 0.5\r\n        ctx.fillStyle = selectColor\r\n        ctx.arc(offsetX, offsetY, 12, 0, 2 * Math.PI)\r\n        ctx.fill()\r\n        ctx.closePath()\r\n        ctx.beginPath()\r\n        ctx.globalAlpha = 0.8\r\n        ctx.fillStyle = selectColor\r\n\r\n        ctx.arc(offsetX, offsetY, 8, 0, 2 * Math.PI)\r\n        ctx.fill()\r\n        ctx.closePath()\r\n        ctx.beginPath()\r\n        ctx.globalAlpha = 1\r\n        ctx.fillStyle = 'rgba(255,255,255, 1)'\r\n        ctx.arc(offsetX, offsetY, 5, 0, 2 * Math.PI)\r\n        ctx.fill()\r\n        ctx.closePath()\r\n    }\r\n    popup(ctx, offsetX, offsetY, selectColor, direction) {\r\n\r\n        offsetY = offsetY > 140 ? offsetY - 130 : offsetY + 30;\r\n\r\n        let newOffsetX = direction ? offsetX - 160 : offsetX\r\n\r\n        //线\r\n        ctx.beginPath()\r\n\r\n        ctx.globalAlpha = 1\r\n        ctx.fillStyle = selectColor;\r\n        ctx.fillRect(offsetX, offsetY, 4, 100)\r\n        ctx.closePath()\r\n        //框\r\n        ctx.beginPath()\r\n        ctx.fillStyle = selectColor;\r\n        ctx.globalAlpha = 0.4\r\n\r\n        ctx.fillRect(newOffsetX, offsetY, 160, 100)\r\n        ctx.closePath()\r\n\r\n    }\r\n    labelText(ctx, offsetX, offsetY, selectColor, direction, item) {\r\n        offsetY = offsetY > 140 ? offsetY : offsetY + 160;\r\n        let newOffsetX = direction ? offsetX - 140 : offsetX + 20\r\n\r\n        ctx.beginPath()\r\n        ctx.font = '14px SFCompactDisplay-Semibold,SFCompactDisplay'\r\n        ctx.fillStyle = selectColor\r\n        ctx.globalAlpha = 0.8\r\n        ctx.fillText(this.locale['price'], newOffsetX, offsetY - 110);\r\n        ctx.closePath()\r\n\r\n        ctx.beginPath()\r\n        ctx.font = '14px bold'\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.globalAlpha = 1\r\n        ctx.fillText(`${item.p.toFixed(this.priceDecimal)}`, newOffsetX, offsetY - 90);\r\n        ctx.closePath()\r\n\r\n        ctx.beginPath()\r\n        ctx.font = '14px bold'\r\n        ctx.fillStyle = selectColor\r\n        ctx.globalAlpha = 0.8\r\n\r\n        ctx.fillText(this.locale['sum'], newOffsetX, offsetY - 65);\r\n        ctx.closePath()\r\n\r\n        ctx.beginPath()\r\n        ctx.font = '14px bold'\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.globalAlpha = 1\r\n        ctx.fillText(`${parseFloat(item.t).toFixed(this.valueDecimal)}`, newOffsetX, offsetY - 45);\r\n        ctx.closePath()\r\n    }\r\n}\r\nexport default MaskRender;","import Chart from \"./Chart\"\r\nimport MaskRender from \"../render/MaskRender\"\r\nclass MaskChart extends Chart {\r\n    constructor(dom, dataProvider, interval, style) {\r\n        super(dom)\r\n        this.interval = interval;\r\n        this.dataProvider = dataProvider;\r\n        this.maskRender = new MaskRender(this.viewPortHandler,dataProvider, interval);\r\n        \r\n\r\n        this.style = style;\r\n       \r\n    }\r\n   \r\n    draw(offsetX) {\r\n        this.maxVol = this.dataProvider.maxVol()\r\n      \r\n        let width = this.viewPortHandler.contentRight();\r\n        let height = this.viewPortHandler.contentBottom()\r\n        let halfWidth = width / 2;\r\n        let middleStart = halfWidth - this.interval / 2;\r\n        let middleEnd = halfWidth + this.interval / 2;\r\n        if ((middleStart < offsetX && offsetX < middleEnd) || offsetX > width || offsetX < 0) {\r\n            return false;\r\n        }\r\n        let direction = offsetX > halfWidth ? true : false\r\n        let { depth } = this.style\r\n        let selectColor = !direction ? depth.buyColor : depth.sellColor\r\n        let itemWidth = middleStart / 200;\r\n        let offsetXIndex = Math.floor(offsetX / itemWidth) || 0\r\n        let intervalIndex = Math.floor(this.interval / itemWidth) || 0\r\n        let index = offsetXIndex > 199 ? (offsetXIndex - intervalIndex) : offsetXIndex;\r\n\r\n        let data = []\r\n        if (direction) {\r\n            data = this.dataProvider.rightData\r\n            index = index - 200;\r\n        } else {\r\n            data = this.dataProvider.leftData\r\n            index = 199 - index;\r\n        }\r\n        let item = data[index];\r\n       \r\n        if (item) {\r\n            let offsetY = height - item.t / this.maxVol * height\r\n            this.maskRender.point(this.ctx, offsetX, offsetY, selectColor)\r\n            this.maskRender.popup(this.ctx, offsetX, offsetY, selectColor, direction, item)\r\n            this.maskRender.labelText(this.ctx, offsetX, offsetY, selectColor, direction, item)\r\n        }\r\n\r\n    }\r\n    flush(offsetX, offsetY) {\r\n        this.clearCanvas()\r\n        this.draw(offsetX, offsetY)\r\n    }\r\n}\r\nexport default MaskChart;","\r\nclass DataProvider {\r\n    constructor() {\r\n        this.data = {}\r\n        this.decimal = 0\r\n        this.leftData = []\r\n        this.rightData = []\r\n    }\r\n    init(data, decimal, locale) {\r\n        this.data = data\r\n        this.length = 200;\r\n        this.decimal = decimal\r\n        this.locale = locale\r\n        this.leftData = this.dataFill(this.data['bids'] || [], 'bids') //买\r\n        this.rightData = this.dataFill(this.data['asks'] || [], 'asks') //卖\r\n    }\r\n\r\n    /**\r\n     * x轴半轴长\r\n     * \r\n     */\r\n    adjacent() {\r\n        let leftArray = this.data['bids'] || []\r\n        let leftArrayLength = leftArray.length;\r\n        let rightArray = this.data['asks'] || []\r\n        let rightArrayLength = rightArray.length;\r\n        if (leftArrayLength < 1 || rightArrayLength < 1) {\r\n            console.log(\"数据长度不够\")\r\n            return false\r\n        }\r\n        //  debugger\r\n        let vol1 = 0, vol2 = 0;\r\n        if (leftArrayLength > 1) {\r\n            vol1 = Math.abs(parseFloat(leftArray[0].price) - parseFloat(leftArray[leftArrayLength - 1].price))\r\n        } else {\r\n            vol1 = parseFloat(leftArray[0].price)\r\n        }\r\n        if (rightArrayLength > 1) {\r\n            vol2 = Math.abs(parseFloat(rightArray[0].price) - parseFloat(rightArray[rightArrayLength - 1].price))\r\n        } else {\r\n            vol2 = parseFloat(rightArray[0].price)\r\n        }\r\n\r\n        const min = Math.min(vol1, vol2);\r\n        return min\r\n    }\r\n    getPriceDecimal() {\r\n        return parseInt(this.decimal.price)\r\n    }\r\n    getValueDecimal() {\r\n        return parseInt(this.decimal.value)\r\n    }\r\n    getLocale() {\r\n        return this.locale\r\n    }\r\n    initDataLeft(key) {\r\n        let arr = []\r\n        let minPrice = this.minPrice();\r\n\r\n        let semiaxis = this.adjacent()\r\n        let difference = semiaxis / this.length\r\n        let len = this.length\r\n        let total = 0\r\n        if (key == 'asks') {\r\n            minPrice = minPrice + semiaxis;\r\n        }\r\n        for (let i = 0; i < len; i++) {\r\n            let obj = {\r\n                p: minPrice + difference * i,\r\n                v: 0,\r\n                t: total\r\n            }\r\n\r\n            arr.push(obj)\r\n        }\r\n        if (key == 'asks') {\r\n            return arr\r\n        }\r\n        return arr.reverse()\r\n    }\r\n    dataFill(array, key) {\r\n        let arr = this.initDataLeft(key)\r\n        let len = this.length\r\n        let semiaxis = this.adjacent()\r\n        let difference = semiaxis / this.length\r\n        let total = 0\r\n        for (let i = 0; i < len; i++) {\r\n            let item = arr[i]\r\n\r\n            array.forEach(element => {\r\n                if (Math.abs(item.p - element.price) < difference) {\r\n                    total = total + parseFloat(element.volume)\r\n                    item.v = parseFloat(element.volume)\r\n\r\n                }\r\n                item.t = total.toFixed(8);\r\n            })\r\n\r\n        }\r\n        return arr;\r\n    }\r\n    originalData(array, key) {\r\n        let arr = []\r\n        let min = this.minPrice();\r\n        let semiaxis = this.adjacent()\r\n        let minPrice = min\r\n        if (key == 'asks') {\r\n            minPrice = min + semiaxis;\r\n        } else {\r\n            // debugger\r\n            // console.log('bids', array)\r\n            // let arr1 = array = array.reverse()\r\n            // console.log('bids', arr1)\r\n        }\r\n\r\n        let difference = semiaxis / this.length\r\n        let len = this.length;\r\n        let total = 0\r\n        for (let i = 0; i < len; i++) {\r\n            let obj = {\r\n                p: minPrice + difference * i,\r\n                v: 0,\r\n                t: total\r\n            }\r\n            array.forEach(element => {\r\n                if (Math.abs(obj.p - element.price) < difference) {\r\n                    total = total + element.volume;\r\n                    obj.v = element.volume\r\n                    obj.t = total;\r\n                }\r\n            })\r\n            arr.push(obj);\r\n        }\r\n        //console.log(arr)\r\n        return arr\r\n    }\r\n    processingData(array) {\r\n        let total = 0\r\n        let arr = []\r\n        let max = this.maxPrice();\r\n        if (array.length > 0) {\r\n            let keys = Object.keys(array[0])\r\n            array.forEach(element => {\r\n                // console.log(element,max)\r\n                if (element.price > max) {\r\n                    return;\r\n                }\r\n                total += element[keys[1]]\r\n                element = {\r\n                    p: element[keys[0]],\r\n                    v: element[keys[1]],\r\n                    t: total\r\n                }\r\n\r\n                arr.push(element)\r\n            })\r\n            // console.log(arr)\r\n            return arr\r\n        }\r\n        return []\r\n\r\n    }\r\n    maxPrice() {\r\n        return this.adjacent() * 2 + this.minPrice();\r\n    }\r\n    minPrice() {\r\n        let len = this.data['bids'] && this.data['bids'].length - 1 || 0\r\n        if (len > 0) {\r\n            return parseFloat(this.data['bids'][len].price)\r\n        } else {\r\n            return parseFloat(this.data['bids'][0].price)\r\n        }\r\n    }\r\n    maxVol() {\r\n        let leftLen = this.leftData.length - 1;\r\n        let rightLent = this.rightData.length - 1\r\n        let max = Math.max(parseFloat(this.leftData[leftLen].t), parseFloat(this.rightData[rightLent].t))\r\n        return max + max / 8\r\n\r\n    }\r\n\r\n}\r\nexport default DataProvider","\n/**\n * 阻止事件\n * @param e\n */\nexport function stopEvent (e) {\n  if (e && e.stopPropagation) {\n    e.stopPropagation()\n  } else {\n    window.event.cancelBubble = true\n  }\n  if (e && e.preventDefault) {\n    e.preventDefault()\n  } else {\n    window.event.returnValue = false\n  }\n}\n\n\n","import { stopEvent } from \"../internal/eventHelper\"\r\nclass MouseEvent {\r\n    constructor(maskChart, dataProvider, viewPortHandler) {\r\n        this.maskChart = maskChart;\r\n        this.dataProvider = dataProvider;\r\n        this.viewPortHandler = viewPortHandler;\r\n    }\r\n    mouseMove(e) {\r\n        let { offsetX,offsetY } = e;\r\n        stopEvent(e)\r\n        if (!this.waitingForMouseMoveAnimationFrame) {\r\n            this.waitingForMouseMoveAnimationFrame = true\r\n            this.maskChart.flush(offsetX,offsetY);\r\n            this.waitingForMouseMoveAnimationFrame = false\r\n        }\r\n    }\r\n    mouseLeave(e) {\r\n        stopEvent(e)\r\n\r\n        this.maskChart.clearCanvas();\r\n    }\r\n}\r\nexport default MouseEvent;","\r\nimport Chart from \"./Chart\"\r\n\r\n\r\nimport MainChart from \"./MainChart\"\r\nimport MaskChart from \"./MaskChart\"\r\nimport DataProvider from \"../internal/DataProvider\"\r\nimport MouseEvent from \"../internal/MouseEvent\"\r\nimport styeleConfing from \"../config/index.json\"\r\nclass DepthMainChart extends Chart {\r\n    constructor(params) {\r\n        super(params.dom)\r\n        let { dom, width, height, data, decimal, interval, style, locale } = params\r\n        this.dom = dom\r\n        dom.style.position = 'relative'\r\n        dom.style.height = `${height}px`;\r\n        dom.style.width = `${width}px`;\r\n        this.width = width || this.dom.offsetWidth //图宽\r\n        this.height = height || this.height.offsetHeight//图高\r\n        this.data = data || {} //数据\r\n        this.decimal = {\r\n            price: decimal && decimal.price || 3,\r\n            value: decimal && decimal.value || 4\r\n        }//x轴小数位数\r\n        this.interval = interval || 2//中间间隙\r\n        this.style = this.deepObjectMerge(styeleConfing, style)\r\n        this.locale = locale\r\n        this.dataProvider = new DataProvider()\r\n        this.dataProvider.init(this.data, this.decimal, this.locale)\r\n        this.mainChart = new MainChart(this.dom, this.dataProvider, this.interval, this.style)\r\n        this.mainChart.init(this.dom)\r\n        this.maskChart = new MaskChart(this.dom, this.dataProvider, this.interval, this.style)\r\n        this.maskChart.init(this.dom)\r\n        this.calcChartDimensions()\r\n        this.initEvent()\r\n    }\r\n    /**\r\n      * 初始化事件\r\n    */\r\n    initEvent() {\r\n        const mouseEvent = new MouseEvent(this.maskChart, this.dataProvider, this.viewPortHandler);\r\n        let domNode = this.dom;\r\n\r\n        domNode.addEventListener('mousemove', (e) => {\r\n            mouseEvent.mouseMove(e)\r\n        })\r\n        domNode.addEventListener('mouseleave', (e) => {\r\n            mouseEvent.mouseLeave(e)\r\n        })\r\n\r\n    }\r\n    /**\r\n      * 修改数据源\r\n    */\r\n    updata(data) {\r\n        this.data = data\r\n        this.dataProvider.init(data, this.decimal, this.locale)\r\n        this.mainChart.flush()\r\n    }\r\n    /**\r\n    * 计算图的尺寸\r\n    */\r\n    calcChartDimensions() {\r\n        const xAxisHeight = this.calcXAxisHeight()//x轴高度\r\n        const yAxisWidth = this.calcYAxisWidth() //y轴宽度\r\n        const domWidth = this.width\r\n        const domHeight = this.height\r\n\r\n        let offsetLeft = 0\r\n        let offsetRight = 0\r\n        const offsetTop = 0\r\n        const offsetBottom = xAxisHeight\r\n        if (this.style.yAxis.position === 'left') {\r\n            offsetLeft = yAxisWidth\r\n        } else {\r\n            offsetRight = yAxisWidth\r\n        }\r\n        this.mainChart.setChartDimensions(0, domWidth, domHeight, offsetLeft, offsetRight, offsetTop, offsetBottom)\r\n        this.maskChart.setChartDimensions(0, domWidth, domHeight, offsetLeft, offsetRight, offsetTop, offsetBottom)\r\n    }\r\n\r\n\r\n    /**\r\n    * 计算x轴高度\r\n   */\r\n    calcXAxisHeight() {\r\n        return this.style.xAxis.height\r\n    }\r\n    /**\r\n   * 计算y轴宽度\r\n   */\r\n    calcYAxisWidth() {\r\n        return this.style.yAxis.width\r\n    }\r\n    deepObjectMerge(FirstOBJ, SecondOBJ) { // 深度合并对象\r\n        for (var key in SecondOBJ) {\r\n            FirstOBJ[key] = FirstOBJ[key] && FirstOBJ[key].toString() === \"[object Object]\" ?\r\n                this.deepObjectMerge(FirstOBJ[key], SecondOBJ[key]) : FirstOBJ[key] = SecondOBJ[key];\r\n        }\r\n        return FirstOBJ;\r\n    }\r\n\r\n}\r\nexport default DepthMainChart","import depthChart from \"./chart/RootChart\";\r\nexport default depthChart","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"sourceRoot":""}